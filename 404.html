<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Página no encontrada — Madres a la Obra</title>
  <meta name="robots" content="noindex" />
  <meta property="og:title" content="404 — Madres a la Obra" />
  <meta property="og:description" content="No encontramos esa página. Te ayudamos a continuar." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="assets/images/og-image.jpg" />
  <link rel="icon" href="assets/images/favicon.png" />
  <style>
    :root{--bg:#fffdfc;--ink:#1f2937;--muted:#6b7280;--primary:#9b87f5;--accent:#f6a5b8;--surface:#ffffff;--radius:16px;--shadow:0 12px 28px rgba(18,24,40,.06);--header-h:64px}
    *{box-sizing:border-box} html{scroll-behavior:smooth}
    body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif}
    img{max-width:100%;height:auto;display:block} a{color:inherit;text-decoration:none}
    a:focus,button:focus{outline:2px solid var(--primary);outline-offset:2px}
    .container{width:min(1120px,92vw);margin-inline:auto}

    header{position:sticky;top:0;z-index:30;background:rgba(255,255,255,.85);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid #f1f5f9;height:var(--header-h)}
    .nav{display:flex;align-items:center;justify-content:space-between;height:var(--header-h)}
    .brand{display:flex;gap:.6rem;align-items:center}.brand img{width:32px;height:32px}.brand strong{font-weight:700}
    .nav-links{display:flex;gap:1rem;align-items:center}.nav-links a{padding:.4rem .6rem;border-radius:10px}
    .nav-links a:hover,.nav-links a.active{background:#f6f7ff;color:#4338ca}
    .cta{background:var(--primary);color:#fff;padding:.6rem .9rem;border-radius:999px;box-shadow:var(--shadow);border:0;font-weight:600}
    .burger{display:none;background:transparent;border:0;padding:.4rem}

    .hero{padding:88px 0 28px;position:relative;overflow:hidden}
    .hero::before{content:"";position:absolute;inset:-20% -10% auto -20%;height:360px;width:360px;background:
      radial-gradient(60% 60% at 50% 50%, rgba(246,165,184,.35), transparent 60%),
      radial-gradient(60% 60% at 70% 30%, rgba(155,135,245,.30), transparent 70%);
      filter:blur(30px);animation:floatBlob 14s ease-in-out infinite alternate}
    h1{font-size:clamp(28px,4vw,42px);line-height:1.1;margin:.3rem 0 .6rem}
    .lead{color:#374151;margin:0 0 8px}.muted{color:#6b7280}
    .chip{display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .6rem;border:1px solid #e5e7eb;border-radius:999px;background:#fff;font-weight:600;color:#374151}

    .toolbox{display:flex;flex-wrap:wrap;gap:10px;margin:16px 0 6px}
    .search{flex:1;min-width:220px;display:flex;align-items:center;gap:8px;background:white;border:1px solid #e5e7eb;border-radius:12px;padding:.6rem .8rem;box-shadow:var(--shadow)}
    .search input{border:0;outline:none;width:100%;font-size:16px}
    .btn{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border-radius:12px;border:1px solid #e5e7eb;background:#fff;font-weight:700}
    .btn.primary{background:var(--primary);color:#fff;border-color:transparent}

    .results{margin-top:10px;display:grid;gap:10px;grid-template-columns:repeat(3,1fr)}
    .card{background:var(--surface);border:1px solid #eef2f7;border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);transition:transform .25s ease,box-shadow .25s ease}
    .card:hover{transform:translateY(-3px);box-shadow:0 18px 34px rgba(18,24,40,.12)}
    .card h3{margin:.1rem 0 .3rem;font-size:18px}.card p{margin:0;color:#475569}

    footer{padding:36px 0;border-top:1px solid #eef2f7;color:#64748b;margin-top:32px}

    @media (max-width: 860px){
      .results{grid-template-columns:1fr}
      .nav-links{display:none;position:absolute;top:var(--header-h);right:0;left:0;background:white;border-bottom:1px solid #e5e7eb;padding:10px}
      .nav-links.open{display:flex;flex-direction:column}.burger{display:inline-flex}
    }
    .reveal{opacity:0;transform:translateY(12px);transition:opacity .6s ease,transform .6s ease}
    .reveal.is-visible{opacity:1;transform:none}
    @media (prefers-reduced-motion: reduce){*,*::before,*::after{animation:none!important;transition:none!important}}
    @keyframes floatBlob{0%{transform:translate3d(0,0,0) scale(1)}100%{transform:translate3d(6%,-6%,0) scale(1.08)}}
  </style>
</head>
<body>
  <a class="visually-hidden" href="#contenido">Saltar al contenido</a>

  <header>
    <div class="container nav">
      <a class="brand" href="index.html" aria-label="Inicio Madres a la Obra">
        <img src="assets/images/logo.svg" alt="Logo MAOB" />
        <strong>Madres a la Obra</strong>
      </a>
      <nav>
        <button class="burger" aria-label="Abrir menú" aria-expanded="false" onclick="toggleNav(this)">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        </button>
        <div id="menu" class="nav-links">
          <a href="./servicios.html" data-close>Servicios</a>
          <a href="./guias.html" data-close>Guías</a>
          <a href="./sobre.html" data-close>Sobre mí</a>
          <a href="index.html#faq" data-close>FAQ</a>
          <a class="cta" href="index.html#contacto" data-close>Agenda una llamada</a>
        </div>
      </nav>
    </div>
  </header>

  <main id="contenido" class="container">
    <section class="hero reveal is-visible">
      <h1>Ups, no encontramos esa página</h1>
      <p class="lead">Puede que el enlace haya cambiado o que haya un error al escribirlo. Aquí tienes opciones para continuar con calma.</p>
      <p class="muted">Enlace roto: <span id="broken" class="chip">—</span></p>

      <div class="toolbox">
        <div class="search" role="search">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="11" cy="11" r="7" stroke="currentColor"/><path d="m20 20-3.5-3.5" stroke="currentColor"/></svg>
          <input id="q" type="search" placeholder="Buscar… (ej. servicios, guías, sobre)" aria-label="Buscar en el sitio" />
        </div>
        <button class="btn" onclick="history.back()">Volver a la anterior</button>
        <a id="goHome" class="btn" href="#">Ir al inicio</a>
        <a id="goServ" class="btn" href="#">Ir a Servicios</a>
        <a id="goGuias" class="btn" href="#">Ir a Guías</a>
        <a id="goSobre" class="btn" href="#">Ir a Sobre mí</a>
      </div>

      <p class="muted" id="redir">Te llevaremos al inicio en <strong><span id="count">10</span>s</strong>. <a href="#" id="cancel">Cancelar</a></p>
    </section>

    <section class="reveal">
      <h2 style="font-size:clamp(22px,3vw,30px);margin:0 0 10px">Quizás buscabas…</h2>
      <div id="results" class="results"></div>
    </section>

    <section class="reveal" style="margin-top:12px">
      <div class="card">
        <h3 style="margin:.2rem 0">¿Nos ayudas a corregirlo?</h3>
        <p class="muted" style="margin:0 0 10px">Puedes reportar el enlace roto o escribirme por WhatsApp y lo arreglo enseguida.</p>
        <div class="actions">
          <a id="reportMail" class="btn" href="#">Reportar por email</a>
          <a id="reportWa" class="btn primary" href="#" target="_blank" rel="noopener">Avisar por WhatsApp</a>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container" style="display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap;align-items:center">
      <small>© <span id="y"></span> Madres a la Obra • Con amor y evidencia</small>
      <div style="display:flex;gap:12px">
        <a href="https://instagram.com/madresalaobra" target="_blank" rel="noopener" aria-label="Instagram">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect x="3" y="3" width="18" height="18" rx="5" stroke="currentColor"/><circle cx="12" cy="12" r="4" stroke="currentColor"/><circle cx="17.5" cy="6.5" r="1" fill="currentColor"/></svg>
        </a>
        <a href="https://wa.me/18297705650" target="_blank" rel="noopener" aria-label="WhatsApp">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M20.5 12a8.5 8.5 0 1 1-15.72 4.31L3.5 21l4.86-1.26A8.5 8.5 0 0 1 20.5 12Z" stroke="currentColor"/><path d="M9 9c0 3 3 6 6 6l1.2-.6a.8.8 0 0 1 .8.06l1 .64" stroke="currentColor" stroke-linecap="round"/></svg>
        </a>
      </div>
    </div>
  </footer>

  <script>
    // Año dinámico
    document.getElementById('y').textContent = new Date().getFullYear();

    // Menú responsive
    function toggleNav(btn){const m=document.getElementById('menu');const open=m.classList.toggle('open');btn.setAttribute('aria-expanded',open?'true':'false');}
    document.querySelectorAll('#menu [data-close]').forEach(a=>a.addEventListener('click',()=>{document.getElementById('menu').classList.remove('open');}));

    // Reveal
    const io=('IntersectionObserver' in window)?new IntersectionObserver((es)=>{es.forEach(e=>{if(e.isIntersecting){e.target.classList.add('is-visible');io.unobserve(e.target);}});},{threshold:.12}):null;
    document.querySelectorAll('.reveal').forEach(el=>{if(io)io.observe(el);else el.classList.add('is-visible');});

    // Mostrar URL rota
    const broken = decodeURIComponent(location.pathname + location.search + location.hash);
    document.getElementById('broken').textContent = broken || '—';

    // ===== Detectar base del sitio (user site vs project site) =====
    (function(){
      const origin = location.origin;
      const parts = location.pathname.split('/').filter(Boolean); // ej: ['tu-repo','algo','faltante']
      // Candidatos a raíz: user site (/) y project site (/repo/)
      const candidates = [ origin + '/', parts.length ? origin + '/' + parts[0] + '/' : null ].filter(Boolean);
      // Probar cuál existe con HEAD a index.html y fijar BASE
      (async function pickBase(){
        let BASE = candidates[0]; // fallback
        for (const base of candidates){
          try{
            const res = await fetch(base + 'index.html', {method:'HEAD', cache:'no-store'});
            if (res.ok) { BASE = base; break; }
          }catch(_){}
        }
        // Enlaces correctos según BASE
        const link = (id, path) => { const el=document.getElementById(id); if(el) el.href = BASE + path; };
        link('goHome','');
        link('goServ','servicios.html');
        link('goGuias','guias.html');
        link('goSobre','sobre.html');

        // Reporte (email / WhatsApp)
        const subject = encodeURIComponent('Enlace roto en Madres a la Obra');
        const body = encodeURIComponent(`Hola Cath,\n\nEncontré un enlace roto en tu sitio:\n\nURL rota: ${location.href}\nPágina anterior: ${document.referrer || '(sin referrer)'}\n\n¡Gracias!`);
        document.getElementById('reportMail').href = `mailto:cath@madresalaobra.com.do?subject=${subject}&body=${body}`;
        document.getElementById('reportWa').href = `https://wa.me/18297705650?text=${encodeURIComponent('Hola, Cath. Encontré un enlace roto: ' + location.href)}`;

        // Redirección automática en 10s a BASE
        let secs = 10; const countEl = document.getElementById('count'); countEl.textContent = secs;
        const timer = setInterval(()=>{ secs--; countEl.textContent = secs; if(secs<=0){ clearInterval(timer); window.location.replace(BASE); } },1000);
        document.getElementById('cancel').addEventListener('click', e=>{ e.preventDefault(); clearInterval(timer); document.getElementById('redir').textContent = 'Redirección cancelada.'; });

        // Sugerencias / búsqueda (simple)
        const PAGES = [
          {title:'Inicio', path: BASE, desc:'Página principal de Madres a la Obra'},
          {title:'Servicios', path: BASE+'servicios.html', desc:'Clases prenatales, lactancia, postparto y acompañamiento al nacimiento'},
          {title:'Guías', path: BASE+'guias.html', desc:'Guías y recursos descargables'},
          {title:'Sobre mí', path: BASE+'sobre.html', desc:'Conoce mi enfoque y valores'}
        ];
        const normalize = s => s.toLowerCase().normalize('NFD').replace(/\p{Diacritic}/gu,'').trim();
        function lev(a,b){a=normalize(a);b=normalize(b);const m=a.length,n=b.length;if(!m)return n;if(!n)return m;const d=Array.from({length:m+1},(_,i)=>Array(n+1).fill(0));for(let i=0;i<=m;i++)d[i][0]=i;for(let j=0;j<=n;j++)d[0][j]=j;for(let i=1;i<=m;i++){for(let j=1;j<=n;j++){const c=a[i-1]===b[j-1]?0:1;d[i][j]=Math.min(d[i-1][j]+1,d[i][j-1]+1,d[i-1][j-1]+c);}}return d[m][n];}
        const results = document.getElementById('results');
        function render(list){results.innerHTML = list.map(p=>`<a class="card" href="${p.path}"><h3>${p.title}</h3><p>${p.desc}</p></a>`).join('');}
        function search(q){const qn=normalize(q);if(!qn)return [...PAGES];const scored=PAGES.map(p=>{const t=normalize(p.title),d=normalize(p.desc);const direct=t.includes(qn)||d.includes(qn)?0:1e9;const dist=Math.min(lev(t,qn),lev(d,qn));return {p,score:Math.min(dist,direct)};}).sort((a,b)=>a.score-b.score);return scored.slice(0,4).map(x=>x.p);}
        render(search(''));
        document.getElementById('q').addEventListener('input',e=>render(search(e.target.value)));

        // Marcar activo coherente (opcional visual)
        (function highlight(){
          const current=(location.pathname.split('/').pop()||'404.html').toLowerCase();
          ['servicios.html','guias.html','sobre.html'].forEach(t=>{
            const sel=`.nav-links a[href$="${t}"]`;const el=document.querySelector(sel);
            if(el) el.classList.toggle('active', current===t);
          });
        })();

        // Forzar navegación a páginas (.html) desde el menú
        document.querySelectorAll('.nav-links a').forEach(a=>{
          const href=a.getAttribute('href')||'';
          if(/\.html(\?|#|$)/i.test(href)){ a.addEventListener('click',e=>{e.preventDefault(); window.location.assign(a.href);}); }
        });
      })();
    })();
  </script>
</body>
</html>
